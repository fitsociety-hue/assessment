import{c as K,u as se,r as x,j as e}from"./index-CgpUwMf6.js";import{A as G}from"./api-9JwOaY3o.js";import{U as q,D as T}from"./dataEngine-RyRuRsC5.js";import{D as C}from"./download-DDXUvjuw.js";const ne=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],re=K("arrow-left",ne);const ae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],le=K("circle-check-big",ae),I=[{id:1,name:"김은아",team:"사무국",position:"사무국장",role:"secgen"},{id:2,name:"이창현",team:"지역연계팀",position:"팀장",role:"leader"},{id:3,name:"김동희",team:"지역연계팀",position:"사회복지사",role:"member"},{id:4,name:"이미림",team:"지역연계팀",position:"사회복지사",role:"member"},{id:5,name:"이은하",team:"지역연계팀",position:"사회복지사",role:"member"},{id:6,name:"황의성",team:"지역연계팀",position:"사회복지사",role:"member"},{id:7,name:"김하운",team:"맞춤지원팀",position:"팀장",role:"leader"},{id:8,name:"김민식",team:"맞춤지원팀",position:"사회복지사",role:"member"},{id:9,name:"김재희",team:"맞춤지원팀",position:"사회복지사",role:"member"},{id:10,name:"김정인",team:"맞춤지원팀",position:"사회복지사",role:"member"},{id:11,name:"허성미",team:"맞춤지원팀",position:"사회복지사",role:"member"},{id:12,name:"이유경",team:"성장지원팀",position:"팀장",role:"leader"},{id:13,name:"곽수진",team:"성장지원팀",position:"심리운동사",role:"member"},{id:14,name:"박원재",team:"성장지원팀",position:"수중운동사",role:"member"},{id:15,name:"백종숙",team:"성장지원팀",position:"특수교사",role:"member"},{id:16,name:"장수빈",team:"성장지원팀",position:"사회복지사",role:"member"},{id:17,name:"최지훈",team:"성장지원팀",position:"수중운동사",role:"member"},{id:18,name:"조진아",team:"건강문화팀",position:"팀장",role:"leader"},{id:19,name:"김대희",team:"건강문화팀",position:"생활체육지도사",role:"member"},{id:20,name:"김동민",team:"건강문화팀",position:"사회복지사",role:"member"},{id:21,name:"김태남",team:"건강문화팀",position:"생활체육지도사",role:"member"},{id:22,name:"노태영",team:"건강문화팀",position:"사회복지사",role:"member"},{id:23,name:"최현규",team:"건강문화팀",position:"사회복지사",role:"member"},{id:24,name:"황지명",team:"건강문화팀",position:"사회복지사",role:"member"},{id:25,name:"김용필",team:"전략기획팀",position:"팀장",role:"leader"},{id:26,name:"김두영",team:"전략기획팀",position:"사회복지사",role:"member"},{id:27,name:"김세윤",team:"전략기획팀",position:"사회복지사",role:"member"},{id:28,name:"박지현",team:"미래경영팀",position:"팀장",role:"leader"},{id:29,name:"김규석",team:"미래경영팀",position:"환경",role:"member"},{id:30,name:"윤찬식",team:"미래경영팀",position:"서무",role:"member"},{id:31,name:"이은희",team:"미래경영팀",position:"환경",role:"member"},{id:32,name:"임창현",team:"미래경영팀",position:"시설관리",role:"member"},{id:33,name:"최영권",team:"미래경영팀",position:"영양사",role:"member"},{id:34,name:"최영희",team:"미래경영팀",position:"안내",role:"member"},{id:35,name:"허정윤",team:"미래경영팀",position:"회계",role:"member"}],J=b=>b?b.replace(/\s+/g,"").replace(/팀$/,""):"";function ge(){const{id:b}=se(),[r,W]=x.useState(null),[p,Q]=x.useState(null),[m,w]=x.useState(null),[X,k]=x.useState(!1),[z,B]=x.useState([]),[a,c]=x.useState({rows:[{id:1,name:"",content:"",goal:"",achievement:"",period:"",satisfaction:"5",remarks:""},{id:2,name:"",content:"",goal:"",achievement:"",period:"",satisfaction:"5",remarks:""},{id:3,name:"",content:"",goal:"",achievement:"",period:"",satisfaction:"5",remarks:""}],q1:"",q2:"",q3:"",q4:"",q5:"",q5_reason:"",q6:"",q6_reason:"",q7_dept:"",q7_job:"",q7_reason:""}),[R,L]=x.useState({}),[j,V]=x.useState([{id:1,item:"외부지원사업(프로포절 선정 등)",content:"",score:""},{id:2,item:"신규기획사업(시범사업 등 수행)",content:"",score:""},{id:3,item:"위원회 등 네트워크 활동",content:"",score:""},{id:4,item:"연구실적(논문, 사례집, 발표 등)",content:"",score:""},{id:5,item:"자원개발(후원, 자원봉사 등)",content:"",score:""}]),[u,g]=x.useState({}),[d,h]=x.useState({strength:"",weakness:"",support:"",thanks:"",improvement:"",message:"",training:"",placement:""}),M=[{id:1,cat:"직무수행태도",q:"조직이해: 기관의 미션, 비전, 인재상을 충분히 이해하고 실천하기 위해 노력한다."},{id:2,cat:"직무수행태도",q:"성실성: 출퇴근 등 복무규정을 준수하고 업무에 성실히 임한다."},{id:3,cat:"직무수행태도",q:"협조성: 동료 및 타 팀과 협력하며 공동목표 달성을 위해 적극 협조한다."},{id:4,cat:"직무수행태도",q:"책임감: 맡은 업무를 회피하지 않고 끝까지 완수한다."},{id:5,cat:"직무수행태도",q:"보안의식: 개인정보보호 등 보안관리를 철저히 이행한다."},{id:6,cat:"직무수행능력",q:"전문성: 업무수행에 필요한 전문지식과 기술을 보유하고 활용한다."},{id:7,cat:"직무수행능력",q:"업무숙련도: 업무관련 지침, 예산, 법규, 매뉴얼 등을 충분히 숙지하고 있다."},{id:8,cat:"직무수행능력",q:"문제해결력: 문제의 핵심을 정확히 이해하고 적절한 해결방안을 제시한다."},{id:9,cat:"직무수행능력",q:"정보활용력: 필요한 정보를 효과적으로 수집하고 체계적으로 기록·활용한다."},{id:10,cat:"직무수행능력",q:"의사소통: 상사, 동료, 이용자와 효과적으로 소통한다."},{id:11,cat:"업무적합도",q:"자기개발: 업무의 질적 향상을 위해 교육, 슈퍼비전 등 자기개발에 노력한다."},{id:12,cat:"업무적합도",q:"업무량: 본인의 직급과 역량에 적합한 업무량을 수행한다."},{id:13,cat:"업무적합도",q:"업무수준: 본인의 직급과 경력에 상응하는 수준의 업무를 수행한다."},{id:14,cat:"업무적합도",q:"업무적합도: 본인의 능력을 발휘할 수 있는 적합한 업무를 수행한다."},{id:15,cat:"근무실적",q:"업무실적: 담당 사업/업무의 목표를 달성했다. (평균 %)"},{id:16,cat:"근무실적",q:"예산집행: 계획된 예산을 효율적으로 집행했다. (평균 %)"},{id:17,cat:"근무실적",q:"자원관리: 업무 수행에 필요한 내·외부 자원을 확보하거나 효율적으로 활용하는 데 기여했다."},{id:18,cat:"근무실적",q:"품질관리: 서비스 품질 향상을 위해 이용자 만족도 향상을 위해 노력했다."},{id:19,cat:"근무실적",q:"기록관리: 업무 관련 기록과 문서를 체계적이고 정확하게 관리했다."},{id:20,cat:"근무실적",q:"기한준수: 업무 보고 및 제출 기한을 철저히 준수했다."}],P=[{id:1,cat:"직무수행태도",q:"미션비전 이해: 복지관의 미션과 비전을 이해하고 실천하려 노력한다."},{id:2,cat:"직무수행태도",q:"이용자 존중: 복지관 이용 장애인 및 지역주민을 존중하고 친절하게 응대하는가?"},{id:3,cat:"직무수행태도",q:"동료 신뢰: 원만한 대인관계로 신뢰할 수 있는 동료이며, 자신의 업무 외에도 적극 협조하는가?"},{id:4,cat:"직무수행태도",q:"근무 태도: 규율을 준수하고 공·사 구별이 분명하며 긍정적 자세로 업무에 임하는가?"},{id:5,cat:"직무수행태도",q:"피드백 수용: 동료나 상사의 조언(피드백)을 감정적으로 받아들이지 않고, 자신의 성장을 위한 기회로 긍정적으로 수용하는가?"},{id:6,cat:"직무수행능력",q:"도전 의식: 새롭고 어려운 업무도 두려워하지 않고 도전의식을 갖고 수행하는가?"},{id:7,cat:"직무수행능력",q:"역할 수용: 자신이 원하는 업무에 제한하지 않고 맡은 직무를 성실히 수행하는가?"},{id:8,cat:"직무수행능력",q:"지식 공유: 자신이 습득한 정보, 전문지식, 경험을 동료 및 팀에게 적극 공유하는가?"},{id:9,cat:"직무수행능력",q:"책임 완수: 어려운 일에도 스스로 나서며 맡은 업무를 끝까지 완수하는가?"},{id:10,cat:"직무수행능력",q:"전문성: 업무 수행에 필요한 전문지식 수준이 우수한가?"},{id:11,cat:"직무수행능력",q:"창의성: 독창적 기획능력과 새로운 사고로 변화와 개선을 추구하는가?"},{id:12,cat:"직무수행능력",q:"위기 대처: 돌발 상황이나 위기 상황 발생 시 당황하지 않고 지혜롭고 침착하게 대처하여 문제를 해결하는가?"},{id:13,cat:"직무수행능력",q:"소통 역량: 동료의 의견을 경청하며, 갈등 상황에서 유연하게 소통하여 합리적인 결과를 도출하는가?"},{id:14,cat:"직무수행능력",q:"인권 감수성: 장애인 당사자의 관점에서 생각하고, 업무 수행 과정에서 인권 침해 요소를 예방하며 존중의 가치를 실현하는가?"},{id:15,cat:"직무수행능력",q:"안전 관리: 시설 안전 및 이용자 안전 수칙을 명확히 숙지하고 준수하여, 안전한 복지관 환경 조성에 기여하는가?"},{id:16,cat:"직무수행능력",q:"행정 역량: 문서 작성, 시스템 입력 등 수반되는 행정 업무를 기한 내에 정확하고 꼼꼼하게 처리하는가?"},{id:17,cat:"근무실적",q:"업무 성과: 효과적인 업무운영으로 목표를 달성하고 부서에 긍정적으로 기여하는가?"},{id:18,cat:"근무실적",q:"품질향상: 담당 사업의 서비스 질과 이용자 만족도 향상을 위해 노력하는가?"},{id:19,cat:"근무실적",q:"협업 기여: 팀 프로젝트나 협업 과제 수행 시 적극적으로 기여하는가?"},{id:20,cat:"근무실적",q:"내부지원 및 외부연계: 기관 운영에 필요한 인적·물적 자원을 효율적으로 관리하거나, 업무 개선을 위한 새로운 정보 및 외부 자원을 적극적으로 도입하는가?"}],F=[{id:1,cat:"직무수행태도",q:"근태관리: 출퇴근 시간을 준수하고 근무시간에 업무에 집중하는가?"},{id:2,cat:"직무수행태도",q:"조직가치: 기관의 미션, 비전, 인재상을 이해하고 실천하기 위해 노력하는가?"},{id:3,cat:"직무수행태도",q:"협조성: 타 팀과의 업무협조가 원활하고 전체 조직 관점에서 협력하는가?"},{id:4,cat:"직무수행태도",q:"책임감: 팀의 업무와 성과에 대해 책임감을 가지고 완수하는가?"},{id:5,cat:"직무수행태도",q:"자기개발: 관리자로서 전문성 향상을 위해 지속적으로 자기개발에 힘쓰는가?"},{id:6,cat:"직무수행능력",q:"전문성: 담당 업무 분야의 전문지식과 기술을 충분히 보유하고 있는가?"},{id:7,cat:"직무수행능력",q:"업무추진력: 업무 추진과정에서 우선순위를 정하고 장애요소를 극복하며 신속히 처리하는가?"},{id:8,cat:"직무수행능력",q:"자원개발: 인적·물적 자원개발에 적극적으로 노력하고 성과를 창출하는가?"},{id:9,cat:"직무수행능력",q:"보고체계: 업무 수행과정과 결과를 상급자에게 적절하게 보고하는가?"},{id:10,cat:"직무수행능력",q:"업무이해: 기관 방침과 업무방향을 정확하게 이해하고 판단하는가?"},{id:11,cat:"직무수행능력",q:"기록능력: 객관적이고 체계적인 방법으로 업무를 기록·관리하는가?"},{id:12,cat:"직무수행능력",q:"적응력: 새로운 업무 및 변화하는 상황에 순발력 있게 적응하고 대처하는가?"},{id:13,cat:"리더십",q:"소통능력: 팀원의 의견을 경청하고 효과적으로 소통하는가?"},{id:14,cat:"리더십",q:"업무지도: 업무수행에 필요한 조언과 슈퍼비전을 적절히 제공하는가?"},{id:15,cat:"리더십",q:"업무배분: 업무를 공정하고 효율적으로 배분하며 적절히 관리하는가?"},{id:16,cat:"리더십",q:"팀 분위기: 팀의 긍정적이고 협력적인 분위기 조성을 위해 노력하는가?"},{id:17,cat:"근무실적",q:"목표달성: 팀의 업무목표를 효과적으로 달성했는가?"},{id:18,cat:"근무실적",q:"예산관리: 팀의 예산을 효율적으로 관리하고 집행했는가?"},{id:19,cat:"근무실적",q:"기한준수: 보고서 등 제출기한을 철저히 준수했는가?"},{id:20,cat:"근무실적",q:"혁신노력: 신규 프로그램 개발이나 업무개선을 위해 적극 노력했는가?"}],O=[{id:1,cat:"직무수행태도",q:"성실성: 지각, 근무시간 엄수, 근무시간 집중 등 근태관리가 성실한가?"},{id:2,cat:"직무수행태도",q:"조직이해: 기관의 미션과 비전을 이해하고 인재상에 부합되도록 노력하는가?"},{id:3,cat:"직무수행태도",q:"협조성: 팀 내 원활한 업무협조가 이루어지며 타 팀과도 적극 협력하는가?"},{id:4,cat:"직무수행태도",q:"책임감: 주어진 사항에 대해 끝까지 책임감 있게 처리하여 완수하는가?"},{id:5,cat:"직무수행태도",q:"자기개발: 업무의 질적 향상을 위해 자기개발에 노력하고 업무에 반영하는가?"},{id:6,cat:"직무수행능력",q:"전문성: 업무 수행에 필요한 전문지식 및 기술을 충분히 보유하고 활용하는가?"},{id:7,cat:"직무수행능력",q:"업무추진력: 업무 추진과정에서 장애요소를 극복하고 우선순위에 따라 실행하는가?"},{id:8,cat:"직무수행능력",q:"자원개발: 지역사회 인·물적 자원을 개발하고 활용하며 연계하는가?"},{id:9,cat:"직무수행능력",q:"보고능력: 업무수행 과정과 결과를 적절하게 보고하는가?"},{id:10,cat:"직무수행능력",q:"업무이해: 기관방침이나 업무방향을 정확하게 이해하고 판단하는가?"},{id:11,cat:"직무수행능력",q:"기록관리: 객관적이고 체계적인 방법으로 업무를 기록하는 기술능력이 우수한가?"},{id:12,cat:"직무수행능력",q:"적응력: 새로운 업무 및 변화하는 상황에 무리 없이 순발력 있게 적응하는가?"},{id:13,cat:"직무수행능력",q:"문제해결: 문제 발생 시 원인을 분석하고 적절한 해결방안을 제시하는가?"},{id:14,cat:"근무실적",q:"업무실적: 업무실적 및 사업실적이 현저한 성과가 있는가?"},{id:15,cat:"근무실적",q:"예산집행: 계획한 예산을 효율적으로 사용하는가?"},{id:16,cat:"근무실적",q:"기한준수: 정해진 기한 내에 문서와 보고서를 제출하는가?"},{id:17,cat:"근무실적",q:"혁신노력: 신규 프로그램 개발과 업무개선을 적극 제안하고 성과가 있는가?"},{id:18,cat:"서비스품질",q:"이용자 만족: 장애인 및 지역주민 이용자의 만족도가 높은가?"},{id:19,cat:"서비스품질",q:"친절성: 이용자를 존중하고 친절하게 응대하는가?"},{id:20,cat:"서비스품질",q:"윤리성: 사회복지사 윤리강령을 준수하고 인권을 존중하는가?"}],y=async(t,s)=>{const i=t.target.files[0];if(i)try{const n=await T.parseCSV(i);if(n&&n.length>0){const o={};n.forEach(l=>{const H=parseInt(l.번호||l.No),Y=parseInt(l.점수||l.Score);H&&Y&&(o[H]=Y)}),s(o),alert("점수가 로드되었습니다.")}}catch{alert("CSV 파싱 오류")}},N=(t,s,i=[])=>{const n=t.map(o=>({번호:o.id,평가항목:o.q,점수:""}));i.length>0&&i.forEach(o=>n.push({번호:o.id+100,평가항목:o.item,점수:""})),T.exportCSV(n,s)},Z=()=>{const t=[{사업명:"예시 사업 A",내용:"사업 내용 예시","달성도(%)":"100",만족도:"5"},{사업명:"",내용:"","달성도(%)":"",만족도:""}];T.exportCSV(t,"자기분석보고서_템플릿.csv")};x.useEffect(()=>{const t=localStorage.getItem("userInfo");if(t)try{const i=JSON.parse(t);Q(i)}catch(i){console.error("Failed to parse user info",i)}(async()=>{try{const i=await G.fetchEmployees();if(i&&Array.isArray(i)&&i.length>0){const n=i.map((o,l)=>({...o,id:1e3+l,role:ee(o.position)}));B(n)}else console.warn("API employees empty, falling back to static"),B(I)}catch(i){console.error("Failed to fetch employees, using fallback",i),B(I)}})()},[]);const ee=t=>{if(!t)return"member";const s=t.trim();return s==="관장"?"director":s==="사무국장"?"secgen":s==="팀장"?"leader":"member"},E={id:0,label:"자기분석 보고서"},_={id:1,label:"본인평가"},D={id:2,label:"동료평가"},S={id:3,label:"관리자 평가"},U={id:4,label:"종사자(팀원) 평가"},f=p?(t=>t?t==="director"?[S]:t==="secgen"?[E,_,S,U]:t==="leader"?[E,_,S,U,D]:t==="member"?[E,_,S,D]:[]:[])(p.role):[];x.useEffect(()=>{f.length>0&&r===null&&W(f[0].id)},[f,r]);const te=t=>{W(t),w(null),k(!1),g({}),h({strength:"",weakness:"",support:"",thanks:"",improvement:"",message:"",training:"",placement:""})},$=(()=>{if(!p)return[];const t=p.role,s=z.length>0?z:I,i=p.team?p.team.trim():"",n=J(i),o=l=>J(l.team)===n;if(t==="director"&&r===3)return s.filter(l=>l.role==="secgen"||l.role==="leader");if(t==="secgen"){if(r===4)return s.filter(l=>l.role==="leader");if(r===3)return s.filter(l=>l.role==="director")}if(t==="leader"){if(r===3)return s.filter(l=>l.role==="secgen");if(r===4)return s.filter(l=>l.role==="member"&&o(l));if(r===2)return s.filter(l=>l.role==="leader"&&l.name!==p.name)}if(t==="member"){if(r===3)return s.filter(l=>l.role==="leader"&&o(l));if(r===2)return s.filter(l=>l.role==="member"&&o(l)&&l.name!==p.name)}return[]})(),v=()=>{k(!0)},ie=async()=>{let t="",s={};r===0?(t="self_analysis",s=a):r===1?(t="self_eval",s={scores:R,bonus:j}):r===2?(t="peer_eval",s={scores:u,opinion:d}):r===3?(t="manager_eval",s={scores:u,opinion:d}):r===4&&(t="subordinate_eval",s={scores:u,opinion:d});const i=await G.saveEvaluation({type:t,evaluator:p.name,target:m?m.name:"Self",data:s});i.success?(alert("제출이 완료되었습니다."),k(!1),m&&w(null)):alert("저장 실패: "+i.error)},A=(t,s,i)=>e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"2rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"var(--bg-input)"},children:[e.jsx("th",{style:{padding:"0.8rem",textAlign:"center",width:"50px"},children:"No"}),e.jsx("th",{style:{padding:"0.8rem",textAlign:"center",width:"80px"},children:"구분"}),e.jsx("th",{style:{padding:"0.8rem",textAlign:"left"},children:"평가 내용"}),e.jsx("th",{style:{padding:"0.8rem",textAlign:"center",width:"250px"},children:"평가 (5점)"})]})}),e.jsx("tbody",{children:t.map(n=>e.jsxs("tr",{style:{borderBottom:"1px solid var(--border-light)"},children:[e.jsx("td",{style:{padding:"0.8rem",textAlign:"center"},children:n.id}),e.jsx("td",{style:{padding:"0.8rem",textAlign:"center",fontSize:"0.85rem",color:"var(--primary-600)"},children:n.cat}),e.jsx("td",{style:{padding:"0.8rem"},children:n.q.split(":")[1]||n.q}),e.jsx("td",{style:{padding:"0.8rem",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",gap:"0.3rem",justifyContent:"center"},children:[5,4,3,2,1].map(o=>e.jsxs("label",{style:{cursor:"pointer",padding:"0.2rem 0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:s[n.id]===o?"var(--primary-600)":"white",color:s[n.id]===o?"white":"black"},children:[e.jsx("input",{type:"radio",name:`q_${n.id}`,checked:s[n.id]===o,onChange:()=>i({...s,[n.id]:o}),style:{display:"none"}}),o]},o))})})]},n.id))})]});return p?e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"card",id:"evaluation-content",children:[e.jsx(de,{title:"근무평정 시스템",user:p}),e.jsx("div",{style:{display:"flex",borderBottom:"1px solid var(--border-light)",marginBottom:"2rem",flexWrap:"wrap"},children:f.map(t=>e.jsx("button",{onClick:()=>te(t.id),style:{padding:"1rem 1.5rem",borderBottom:r===t.id?"2px solid var(--primary-600)":"none",color:r===t.id?"var(--primary-700)":"var(--text-sub)",fontWeight:r===t.id?"600":"400",background:"none",border:"none",cursor:"pointer"},children:t.label},t.id))}),r!==0&&r!==1&&!m&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"평가 대상자 선택"}),e.jsx("p",{style:{marginBottom:"2rem",color:"var(--text-sub)"},children:"평가를 진행할 대상자를 선택해주세요."}),$.length===0?e.jsx("div",{style:{padding:"2rem",textAlign:"center",background:"var(--bg-input)",borderRadius:"8px"},children:"평가 가능한 대상자가 없습니다."}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:$.map((t,s)=>e.jsxs("div",{onClick:()=>w(t),style:{padding:"1.5rem",border:"1px solid var(--border-light)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",background:"white",textAlign:"center"},onMouseOver:i=>i.currentTarget.style.borderColor="var(--primary-500)",onMouseOut:i=>i.currentTarget.style.borderColor="var(--border-light)",children:[e.jsx("div",{style:{fontWeight:"700",fontSize:"1.1rem",marginBottom:"0.5rem"},children:t.name}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-sub)"},children:[t.team," ",t.position]})]},t.id||s))})]}),(r===0||r===1||m)&&e.jsxs("div",{className:"animate-fade-in",children:[r!==0&&r!==1&&e.jsxs("div",{style:{marginBottom:"2rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsxs("button",{onClick:()=>w(null),style:{background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.3rem",color:"var(--text-sub)"},children:[e.jsx(re,{size:16})," 목록으로"]}),e.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:[" > ",m?.name," (",m?.team,") 평가 진행중"]})]}),r===0&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"자기분석 보고서"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"btn btn-outline",onClick:Z,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(C,{size:16})," 템플릿"]}),e.jsxs("label",{className:"btn btn-outline",style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx(q,{size:16})," CSV 업로드",e.jsx("input",{type:"file",hidden:!0,accept:".csv",onChange:t=>y(t,s=>{alert("Not fully implemented for complex rows in this demo")})})]})]})]}),e.jsx("p",{className:"text-sub",children:"지난 한 해 성과를 기술해주세요."}),e.jsx("h4",{style:{marginTop:"1.5rem",marginBottom:"0.5rem"},children:"1. 주요업무 추진실적"}),e.jsxs("table",{style:{width:"100%",marginBottom:"1rem",borderCollapse:"collapse"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"var(--bg-input)"},children:[e.jsx("th",{style:{padding:"0.5rem",border:"1px solid #eee"},children:"사업명"}),e.jsx("th",{style:{padding:"0.5rem",border:"1px solid #eee"},children:"내용"}),e.jsx("th",{style:{padding:"0.5rem",border:"1px solid #eee",width:"80px"},children:"달성도(%)"}),e.jsx("th",{style:{padding:"0.5rem",border:"1px solid #eee",width:"60px"},children:"만족도"})]})}),e.jsx("tbody",{children:a.rows.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #eee"},children:e.jsx("input",{className:"input-field",value:t.name,onChange:i=>{const n=[...a.rows];n[s].name=i.target.value,c({...a,rows:n})},placeholder:"사업명"})}),e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #eee"},children:e.jsx("input",{className:"input-field",value:t.content,onChange:i=>{const n=[...a.rows];n[s].content=i.target.value,c({...a,rows:n})},placeholder:"추진내용"})}),e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #eee"},children:e.jsx("input",{className:"input-field",value:t.achievement,onChange:i=>{const n=[...a.rows];n[s].achievement=i.target.value,c({...a,rows:n})},style:{textAlign:"center"}})}),e.jsx("td",{style:{padding:"0.5rem",border:"1px solid #eee"},children:e.jsx("select",{className:"input-field",value:t.satisfaction,onChange:i=>{const n=[...a.rows];n[s].satisfaction=i.target.value,c({...a,rows:n})},children:[5,4,3,2,1].map(i=>e.jsx("option",{value:i,children:i},i))})})]},s))})]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>c(t=>({...t,rows:[...t.rows,{id:t.rows.length+1,name:"",content:"",achievement:"",satisfaction:"5"}]})),children:"+ 행 추가"}),e.jsxs("div",{style:{background:"var(--bg-input)",padding:"1.5rem",borderRadius:"8px",marginTop:"2rem"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"2. 자기개발 및 전문성 향상"}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"bold"},children:"1) 복지관 미션/비전 기여 사례"}),e.jsx("textarea",{className:"input-field",rows:"3",value:a.q1,onChange:t=>c({...a,q1:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"bold"},children:"2) 외부교육 및 자격취득"}),e.jsx("textarea",{className:"input-field",rows:"3",value:a.q2,onChange:t=>c({...a,q2:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"bold"},children:"3) 가장 도전적이었던 과제와 극복"}),e.jsx("textarea",{className:"input-field",rows:"3",value:a.q3,onChange:t=>c({...a,q3:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"bold"},children:"4) 기관 발전을 위한 제언"}),e.jsx("textarea",{className:"input-field",rows:"3",value:a.q4,onChange:t=>c({...a,q4:t.target.value})})]})]})]}),e.jsxs("div",{style:{background:"var(--bg-input)",padding:"1.5rem",borderRadius:"8px",marginTop:"1rem"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"3. 만족도 및 직무순환"}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"bold"},children:"5) 현재 부서 만족도"}),e.jsx("div",{style:{display:"flex",gap:"1rem",margin:"0.5rem 0"},children:["아주 만족","만족","보통","불만"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"radio",checked:a.q5===t,onChange:()=>c({...a,q5:t})})," ",t]},t))}),e.jsx("input",{className:"input-field",placeholder:"이유",value:a.q5_reason,onChange:t=>c({...a,q5_reason:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"bold"},children:"6) 복지관 근무 만족도"}),e.jsx("div",{style:{display:"flex",gap:"1rem",margin:"0.5rem 0"},children:["아주 만족","만족","보통","불만"].map(t=>e.jsxs("label",{children:[e.jsx("input",{type:"radio",checked:a.q6===t,onChange:()=>c({...a,q6:t})})," ",t]},t))}),e.jsx("input",{className:"input-field",placeholder:"이유",value:a.q6_reason,onChange:t=>c({...a,q6_reason:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"bold"},children:"7) 희망 부서/직무"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[e.jsx("input",{className:"input-field",placeholder:"희망부서",value:a.q7_dept,onChange:t=>c({...a,q7_dept:t.target.value})}),e.jsx("input",{className:"input-field",placeholder:"희망직무",value:a.q7_job,onChange:t=>c({...a,q7_job:t.target.value})})]})]})]})]}),e.jsx("div",{style:{textAlign:"right",marginTop:"2rem"},children:e.jsx("button",{className:"btn btn-primary",onClick:v,children:"저장 및 미리보기"})})]}),r===1&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{children:"본인 평가"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"btn btn-outline",onClick:()=>N(M,"본인평가_템플릿.csv",j),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(C,{size:16})," 템플릿"]}),e.jsxs("label",{className:"btn btn-outline",style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx(q,{size:16})," CSV 업로드",e.jsx("input",{type:"file",hidden:!0,accept:".csv",onChange:t=>y(t,L)})]})]})]}),A(M,R,L),e.jsxs("div",{style:{background:"var(--bg-input)",padding:"1.5rem",borderRadius:"8px",marginTop:"2rem"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"가산점 항목 (해당 사항이 있는 경우만 작성)"}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",border:"1px solid var(--border-light)"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid var(--border-light)",background:"#f9fafb"},children:[e.jsx("th",{style:{padding:"0.8rem",width:"200px",textAlign:"left"},children:"구분"}),e.jsx("th",{style:{padding:"0.8rem",textAlign:"left"},children:"내용 (사업명, 금액, 건수 등)"}),e.jsx("th",{style:{padding:"0.8rem",width:"150px",textAlign:"center"},children:"배점 (4~1점)"})]})}),e.jsx("tbody",{children:j.map((t,s)=>e.jsxs("tr",{style:{borderBottom:"1px solid var(--border-light)"},children:[e.jsx("td",{style:{padding:"0.8rem",fontWeight:600},children:t.item}),e.jsx("td",{style:{padding:"0.8rem"},children:e.jsx("input",{className:"input-field",placeholder:"내용을 입력하세요",value:t.content,onChange:i=>{const n=[...j];n[s].content=i.target.value,V(n)}})}),e.jsx("td",{style:{padding:"0.8rem",textAlign:"center"},children:e.jsx("div",{style:{display:"flex",gap:"0.3rem",justifyContent:"center"},children:[4,3,2,1].map(i=>e.jsxs("label",{style:{cursor:"pointer",padding:"0.2rem 0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:t.score==i?"var(--primary-600)":"white",color:t.score==i?"white":"black"},children:[e.jsx("input",{type:"radio",name:`bonus_${t.id}`,checked:t.score==i,onChange:()=>{const n=[...j];n[s].score=i,V(n)},style:{display:"none"}}),i]},i))})})]},t.id))})]})]}),e.jsx("div",{style:{textAlign:"right",marginTop:"2rem"},children:e.jsx("button",{className:"btn btn-primary",onClick:v,children:"저장 및 미리보기"})})]}),r===2&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsxs("h3",{children:["동료 평가 (",m?.name,")"]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"btn btn-outline",onClick:()=>N(P,"동료평가_템플릿.csv",[]),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(C,{size:16})," 템플릿"]}),e.jsxs("label",{className:"btn btn-outline",style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx(q,{size:16})," CSV 업로드",e.jsx("input",{type:"file",hidden:!0,accept:".csv",onChange:t=>y(t,g)})]})]})]}),A(P,u,g),e.jsxs("div",{style:{background:"var(--bg-input)",padding:"1.5rem",borderRadius:"8px",marginTop:"2rem"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"종합의견 및 제안"}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"동료로서 평가대상자의 가장 큰 강점"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.strength,onChange:t=>h({...d,strength:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"함께 일하며 개선되면 좋겠다고 생각하는 부분"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.improvement,onChange:t=>h({...d,improvement:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"동료에게 전하고 싶은 격려나 응원의 메시지"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.message,onChange:t=>h({...d,message:t.target.value})})]})]})]}),e.jsx("div",{style:{textAlign:"right",marginTop:"2rem"},children:e.jsx("button",{className:"btn btn-primary",onClick:v,children:"저장 및 미리보기"})})]}),r===3&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsxs("h3",{children:["관리자 평가 (",m?.name,")"]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"btn btn-outline",onClick:()=>N(F,"관리자평가_템플릿.csv",[]),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(C,{size:16})," 템플릿"]}),e.jsxs("label",{className:"btn btn-outline",style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx(q,{size:16})," CSV 업로드",e.jsx("input",{type:"file",hidden:!0,accept:".csv",onChange:t=>y(t,g)})]})]})]}),A(F,u,g),e.jsxs("div",{style:{background:"var(--bg-input)",padding:"1.5rem",borderRadius:"8px",marginTop:"2rem"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"종합의견 및 제안"}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"관리자로서 가장 우수한 점"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.strength,onChange:t=>h({...d,strength:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"개선이 필요하다고 생각되는 부분"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.weakness,onChange:t=>h({...d,weakness:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"관리자에게 바라는 지원 및 협력"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.support,onChange:t=>h({...d,support:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"관리자에게 감사한 점"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.thanks,onChange:t=>h({...d,thanks:t.target.value})})]})]})]}),e.jsx("div",{style:{textAlign:"right",marginTop:"2rem"},children:e.jsx("button",{className:"btn btn-primary",onClick:v,children:"저장 및 미리보기"})})]}),r===4&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsxs("h3",{children:["종사자(팀원) 평가 (",m?.name,")"]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("button",{className:"btn btn-outline",onClick:()=>N(O,"종사자(팀원)평가_템플릿.csv",[]),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(C,{size:16})," 템플릿"]}),e.jsxs("label",{className:"btn btn-outline",style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx(q,{size:16})," CSV 업로드",e.jsx("input",{type:"file",hidden:!0,accept:".csv",onChange:t=>y(t,g)})]})]})]}),A(O,u,g),e.jsxs("div",{style:{background:"var(--bg-input)",padding:"1.5rem",borderRadius:"8px",marginTop:"2rem"},children:[e.jsx("h4",{style:{marginBottom:"1rem"},children:"종합의견 및 제안"}),e.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"직원의 주요 강점 및 우수한 점"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.strength,onChange:t=>h({...d,strength:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"개선이 필요한 부분 및 발전방향"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.weakness,onChange:t=>h({...d,weakness:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"향후 교육·훈련 필요사항"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.training,onChange:t=>h({...d,training:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontWeight:"600",display:"block",marginBottom:"0.5rem"},children:"적합한 업무 및 배치 의견"}),e.jsx("textarea",{className:"input-field",rows:"3",value:d.placement,onChange:t=>h({...d,placement:t.target.value})})]})]})]}),e.jsx("div",{style:{textAlign:"right",marginTop:"2rem"},children:e.jsx("button",{className:"btn btn-primary",onClick:v,children:"저장 및 미리보기"})})]})]})]}),X&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{className:"card animate-fade-in",style:{width:"600px",maxHeight:"80vh",overflowY:"auto"},children:[e.jsx("h2",{style:{borderBottom:"1px solid #eee",paddingBottom:"1rem"},children:"평가 제출 확인"}),e.jsxs("div",{style:{margin:"2rem 0",lineHeight:"1.6"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"평가 종류:"})," ",f.find(t=>t.id===r)?.label]}),e.jsxs("p",{children:[e.jsx("strong",{children:"평가 대상:"})," ",m?`${m.name} (${m.position})`:"본인"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"작성자:"})," ",p.name]}),e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"var(--bg-input)",borderRadius:"8px"},children:[e.jsx("p",{children:"작성하신 내용으로 평가를 제출하시겠습니까?"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"#ef4444"},children:"제출 후에는 수정이 불가능할 수 있습니다."})]})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[e.jsx("button",{className:"btn btn-outline",onClick:()=>k(!1),children:"취소 (계속작성)"}),e.jsxs("button",{className:"btn btn-primary",style:{display:"flex",alignItems:"center",gap:"0.5rem"},onClick:ie,children:[e.jsx(le,{size:18})," 확정 및 제출"]})]})]})})]}):e.jsx("div",{className:"loading",children:"Loading..."})}const de=({title:b,user:r})=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h1",{children:b}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--text-sub)"},children:[r.name," ",r.position," | ",r.team]})]});export{ge as default};
