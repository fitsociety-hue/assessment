const r="https://script.google.com/macros/s/AKfycby5eG9xjOgBb6ogu_6sre-HyDsOgs36sJsX5nGVBXadwTYGpIG0Ywv7dEFOzEzJ8-MU/exec",n={fetchEmployees:async()=>{try{const s=await(await fetch(`${r}?action=getEmployees`)).json();if(s.success)return s.data;throw new Error(s.message||"Failed to fetch employees")}catch(e){return console.error("API Error (fetchEmployees):",e),[]}},registerUser:async e=>{try{const s=new URLSearchParams;return s.append("action","register"),s.append("data",JSON.stringify(e)),await(await fetch(r,{method:"POST",body:s})).json()}catch(s){return console.error("API Error (registerUser):",s),{success:!1,message:"서버 통신 오류가 발생했습니다. (네트워크/CORS)"}}},loginUser:async e=>{try{const s=new URLSearchParams;return s.append("action","login"),s.append("data",JSON.stringify(e)),await(await fetch(r,{method:"POST",body:s})).json()}catch(s){return console.error("API Error (loginUser):",s),{success:!1,message:"서버 통신 오류가 발생했습니다."}}},syncEmployees:async e=>{try{const s=await fetch(r,{method:"POST",mode:"no-cors",body:JSON.stringify({action:"syncEmployees",data:e})});return{success:!0}}catch(s){return console.error("API Error (syncEmployees):",s),{success:!1,error:s}}},syncResults:async e=>{try{return await fetch(r,{method:"POST",mode:"no-cors",body:JSON.stringify({action:"syncResults",data:e})}),{success:!0}}catch(s){return console.error("API Error (syncResults):",s),{success:!1,error:s}}},saveEvaluation:async e=>{try{return await fetch(r,{method:"POST",mode:"no-cors",body:JSON.stringify({action:"saveEvaluation",data:e})}),{success:!0}}catch(s){return console.error("API Error (saveEvaluation):",s),{success:!1,error:s}}},saveConfig:async e=>{try{return await fetch(r,{method:"POST",mode:"no-cors",body:JSON.stringify({action:"saveConfig",data:e})}),{success:!0}}catch(s){return console.error("API Error (saveConfig):",s),{success:!1,error:s}}},fetchConfig:async()=>{try{const s=await(await fetch(`${r}?action=getConfig`)).json();return s.success?s.data:null}catch(e){return console.warn("API Error (fetchConfig) - using defaults",e),null}}};export{n as A};
